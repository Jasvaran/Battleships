(()=>{var e={171:e=>{let t=document.querySelector(".player-1-content"),r=document.querySelector(".player-2-content");e.exports={createGrids:function(e,i){let s=document.querySelectorAll("#main-grid");s.forEach(((t,r)=>{t.style.setProperty("--grid-rows",e),t.style.setProperty("--grid-cols",i),t.setAttribute("class",`player-${r+1}-grid`);for(let r=0;r<e*i;r++){let e=document.createElement("div");e.innerText=r,e.className="grid-item",t.appendChild(e)}}));let o=document.querySelectorAll(".grid-item");console.log(o),t.appendChild(s[0]),r.appendChild(s[1])},player1_container:t}},138:(e,t,r)=>{const i=r(171),s=(e,t,r)=>({length:e,sunk:t,noOfHits:r,hitShip:function(){this.noOfHits++,this.isSunk()},isSunk(){this.length==this.noOfHits&&(this.sunk=!0)}}),o=e=>{let t=[],r=[];for(let t=0;t<e;t++){r[t]=[];for(let i=0;i<e;i++)r[t][i]={box:[t,i]}}return{board:r,placeShip([e,t]){let r;return this.board.forEach((i=>{i.forEach((i=>{if(i.box[0]===e&&i.box[1]===t){if("ship"in i==0)return i.ship=s(1,!1,0),r="placed ship",this.noOfShips++,i;if("ship"in i==1)return void(r="already placed ship here")}}))})),r},recieveAttack([e,r]){let i;return this.board.forEach((s=>{s.forEach((s=>{s.box[0]===e&&s.box[1]===r&&"ship"in s==1?(s.ship.hitShip(),this.noOfSuccesfulHits++,i=s.ship.noOfHits,console.log("hit ship")):s.box[0]===e&&s.box[1]===r&&"ship"in s==0&&(console.log("missed ship"),this.missedHits.push([e,r]),i=t)}))})),this.checkShipStatus(),i},checkShipStatus(){this.noOfShips>0&&this.noOfSuccesfulHits==this.noOfShips&&(console.log("All ships sunk"),this.allShipsSunk=!0)},missedHits:t,noOfShips:0,noOfSuccesfulHits:0,allShipsSunk:!1}},l=e=>({name:e,winner:!1}),n=()=>{let e=!0,t=!0,r=!1,i=[],s=[],n=[],a=l("player 1"),h=l("player 2"),c=o(2),p=o(2);c.placeShip([0,0]),c.placeShip([1,1]),p.placeShip([0,1]),p.placeShip([1,0]);for(let e=0;e<c.board.length;e++)c.board[e].forEach((e=>{let t=JSON.stringify(e.box);n.push(t)}));return{player1:a,player2:h,player_1_board:c,player_2_board:p,player2_history:s,player1_turn:t,player2_turn:r,checkMoves:(e,t)=>t.some((t=>t===e)),checkHistory:(e,t)=>t.some((t=>t===e)),recieveInput(e,t){let r,i=!1;for(;!i;){let s=prompt(e.name+" enter coordinates");if(0==this.checkHistory(s,t)&&1==this.checkMoves(s,n))return alert("valid"),t.push(s),i=!0,r=s,s;1!=this.checkHistory(s,t)&&0!=this.checkMoves(s,n)||alert("must make valid move")}return r},registerTurn(e,t){let r=[],i=parseInt(t[1]),s=parseInt(t[3]);r.push(i,s),e.recieveAttack(r),console.log(e.board)},makeMoves(){for(;!0===e;){if(1==t){console.log("player 1 turn");let e=this.recieveInput(a,s);this.registerTurn(p,e),console.log(e),t=!1,r=!0}else if(1==r){console.log("player 2 turn");let e=this.recieveInput(h,i);this.registerTurn(c,e),console.log(e),r=!1,t=!0}this.endGame(c,p)}},endGame(t,r){1!=t.allShipsSunk&&1!=r.allShipsSunk||(e=!1)}}};n(),i.createGrids(5,5),e.exports={shipFactory:s,gameBoardFactory:o,playerFactory:l,aiFactory:e=>({name:e,winner:!1}),mainGameFunction:n}}},t={};!function r(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}(138)})();